{% extends "base.html" %}

{% block title %}
å¯¼å…¥æµ‹è¯•ç”¨ä¾‹ - æµ‹è¯•ç®¡ç†å¹³å°
{% endblock %}

{% block content %}
<h1 class="mb-4">â¬†ï¸ å¯¼å…¥æµ‹è¯•ç”¨ä¾‹</h1>

<div class="row">
    <div class="col-lg-7">
        <form action="{{ url_for('add_cases') }}" method="post">
            <div class="mb-3">
                <label for="user_story" class="form-label">é€‰æ‹©è¦å…³è”çš„ç”¨æˆ·æ•…äº‹</label>
                <select class="form-select" id="user_story" name="user_story" required>
                    <option value="" disabled selected>è¯·é€‰æ‹©ä¸€ä¸ªç”¨æˆ·æ•…äº‹...</option>
                    {% for project in grouped_user_stories %}
                        <optgroup label="ğŸ“‚ {{ project.project_name }}">
                            {% for module in project.modules %}
                                <optgroup label="&nbsp;&nbsp;ğŸ“ {{ module.module_name }}">
                                    {% for us in module.user_stories %}
                                        <option value="{{ us.id }}">
                                            &nbsp;&nbsp;&nbsp;&nbsp;ğŸ“„ {{ us.title }}
                                        </option>
                                    {% endfor %}
                                </optgroup>
                            {% endfor %}
                        </optgroup>
                    {% endfor %}
                </select>
                
            </div>
            <div class="mb-3">
                <label for="json_input" class="form-label">ç²˜è´´ JSON æ•°æ®</label>
                <textarea class="form-control" id="json_input" name="json_input" rows="15" required placeholder="è¯·åœ¨æ­¤å¤„ç²˜è´´JSONæ ¼å¼çš„æµ‹è¯•ç”¨ä¾‹æ•°ç»„..."></textarea>
            </div>
            <button type="submit" class="btn btn-primary">å¼€å§‹å¯¼å…¥</button>
        </form>
    </div>

    <div class="col-lg-5">
        <div class="card">
            <div class="card-header">
                JSON æ ¼å¼ç¤ºä¾‹
            </div>
            <div class="card-body">
                <p class="card-text small">è¯·æä¾›ä¸€ä¸ªåŒ…å«æµ‹è¯•ç”¨ä¾‹å¯¹è±¡çš„ JSON æ•°ç»„ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªå¯¹è±¡çš„ç¤ºä¾‹ç»“æ„ï¼š</p>
                <pre class="bg-light p-2 rounded small"><code>[
  {
    "Case No.": "TC-LOGIN-001",
    "Priority": "High",
    "Module": "ç”¨æˆ·è®¤è¯",
    "Function": "ç™»å½•åŠŸèƒ½",
    "Test Case Name": "éªŒè¯æœ‰æ•ˆå‡­æ®ç™»å½•",
    "User Role": "æ™®é€šç”¨æˆ·",
    "Precondition": "ç”¨æˆ·å·²æ³¨å†Œä¸”æœªç™»å½•",
    "Test Steps": [
      "1. æ‰“å¼€ç™»å½•é¡µé¢",
      "2. è¾“å…¥æœ‰æ•ˆçš„ç”¨æˆ·å",
      "3. è¾“å…¥æœ‰æ•ˆçš„å¯†ç ",
      "4. ç‚¹å‡»ç™»å½•æŒ‰é’®"
    ],
    "Expected Result": [
      "æˆåŠŸç™»å½•å¹¶è·³è½¬åˆ°ç”¨æˆ·é¦–é¡µ"
    ],
    "Actual Result": "",
    "Basis for case preparation": "éœ€æ±‚æ–‡æ¡£ v1.2",
    "Remark": "",
    "Create By": "å¼ ä¸‰",
    "Create Date": "2023-10-27",
    "Executed BY": "",
    "Execution Date": ""
  }
]</code></pre>
            </div>
        </div>
    </div>
</div>
{% endblock %}

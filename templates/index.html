{% extends "base.html" %}

{% block title %}
é¡¹ç›®åˆ—è¡¨ - {{ super() }}
{% endblock %}

{% block content %}
<!-- é¡µé¢æ ‡é¢˜å’Œæ“ä½œæŒ‰é’® -->
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="h2">ğŸ“ é¡¹ç›®åˆ—è¡¨</h1>
    <a href="{{ url_for('add_project') }}" class="btn btn-primary">
        <i class="bi bi-plus-lg"></i> æ·»åŠ æ–°é¡¹ç›®
    </a>
</div>

<!-- é¡¹ç›®åˆ—è¡¨ (è¿™æ®µæ˜¯ä½ ä¹‹å‰æ·»åŠ äº†åˆ é™¤åŠŸèƒ½çš„ç‰ˆæœ¬) -->
<div class="list-group">
    {% for project in projects %}
    <div class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
        <a href="{{ url_for('view_project', project_id=project.id) }}" class="text-decoration-none text-dark fw-bold">
            <i class="bi bi-folder2-open me-2"></i>{{ project.name }}
        </a>
        <div class="d-flex align-items-center">
            <span class="badge bg-primary rounded-pill me-3">{{ project.modules|length }} æ¨¡å—</span>
            <form action="{{ url_for('delete_project', project_id=project.id) }}" method="POST" class="d-inline" onsubmit="return confirm('è­¦å‘Šï¼šç¡®å®šè¦åˆ é™¤é¡¹ç›® \'{{ project.name }}\' å—ï¼Ÿæ­¤æ“ä½œå°†åˆ é™¤è¯¥é¡¹ç›®ä¸‹çš„æ‰€æœ‰æ¨¡å—ã€ç”¨æˆ·æ•…äº‹å’Œæµ‹è¯•ç”¨ä¾‹ï¼Œä¸”æ— æ³•æ¢å¤ï¼');">
                <button type="submit" class="btn btn-sm btn-outline-danger">
                    <i class="bi bi-trash-fill"></i> åˆ é™¤
                </button>
            </form>
        </div>
    </div>
    {% else %}
    <div class="list-group-item text-center p-4">
        <p class="mb-2 text-muted">å½“å‰æ²¡æœ‰é¡¹ç›®ã€‚</p>
        <p>ç‚¹å‡»å³ä¸Šè§’çš„ "<strong>æ·»åŠ æ–°é¡¹ç›®</strong>" æŒ‰é’®æ¥åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªé¡¹ç›®å§ï¼</p>
    </div>
    {% endfor %}
</div>
{% endblock %}
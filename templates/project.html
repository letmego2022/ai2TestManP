{% extends "base.html" %}

{% block title %}
é¡¹ç›®: {{ project.name }} - {{ super() }}
{% endblock %}

{% block content %}
    <!-- é¢åŒ…å±‘å¯¼èˆª -->
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{{ url_for('index') }}">é¡¹ç›®é¦–é¡µ</a></li>
            <li class="breadcrumb-item active" aria-current="page">{{ project.name }}</li>
        </ol>
    </nav>

    <!-- é¡µé¢æ ‡é¢˜å’Œæ“ä½œæŒ‰é’® -->
    <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4">
        <h1 class="h2 mb-3 mb-md-0">ğŸ“ é¡¹ç›®: {{ project.name }}</h1>
        
        <div class="d-flex flex-column flex-md-row gap-2">
            <a href="{{ url_for('add_module', project_id=project.id) }}"
            class="btn btn-primary"
            title="ä¸ºè¯¥é¡¹ç›®æ·»åŠ æ–°æ¨¡å—">
                <i class="bi bi-plus-lg"></i> æ·»åŠ æ–°æ¨¡å—
            </a>

            <a href="{{ url_for('view_project_testcases', project_id=project.id) }}"
            class="btn btn-outline-primary"
            title="æŸ¥çœ‹æ­¤é¡¹ç›®ä¸‹æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹çš„æ±‡æ€»åˆ—è¡¨">
                ğŸ“„ æµ‹è¯•ç”¨ä¾‹æ±‡æ€»
            </a>
        </div>
    </div>


    <!-- åŠŸèƒ½æ¨¡å—åˆ—è¡¨ -->
    <h3 class="h4 mt-5 mb-3">åŠŸèƒ½æ¨¡å—</h3>
    <div class="list-group">
        {% for module in project.modules %}
        <a href="{{ url_for('view_module', module_id=module.id) }}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            <span>
                <i class="bi bi-box-seam me-2"></i>{{ module.name }}
            </span>
            <span class="badge bg-secondary rounded-pill">{{ module.user_stories|length }} ä¸ªç”¨æˆ·æ•…äº‹</span>
        </a>
        {% else %}
        <!-- å½“æ²¡æœ‰æ¨¡å—æ—¶æ˜¾ç¤º -->
        <div class="list-group-item text-center p-4">
            <p class="mb-2 text-muted">è¯¥é¡¹ç›®ä¸‹è¿˜æ²¡æœ‰åŠŸèƒ½æ¨¡å—ã€‚</p>
            <p>ç‚¹å‡»å³ä¸Šè§’çš„ "<strong>æ·»åŠ æ–°æ¨¡å—</strong>" æŒ‰é’®æ¥åˆ›å»ºç¬¬ä¸€ä¸ªå§ï¼</p>
        </div>
        {% endfor %}
    </div>

{% endblock %}